<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="System.Configuration.IgnoreSectionHandler, log4net" />
  </configSections>
  <log4net>
    <!--<appender name="ADONetAppender" type="log4net.Appender.ADONetAppender,log4net">
      -->
    <!--BufferSize为缓冲区大小-->
    <!--
      <bufferSize value="100" />
      -->
    <!--<param name="BufferSize" value="2" />-->
    <!--
      -->
    <!--引用-->
    <!--
      -->
    <!--<connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.84.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139" />
      -->
    <!--
      -->
    <!--连接字符串-->
    <!--
      -->
    <!--
      -->
    <!--
      -->
    <!--<connectionString value="data source=c:\\logweb.db3;Synchronous=off" />-->
    <!--
      -->
    <!--
      <connectionString value="data source=|DataDirectory|\log4net.db;Synchronous=Off "/>-->
    <!--
      <connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.84.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139"/>
      <connectionString value="data source=c:\\logweb0405.db;Synchronous=Off "/>
      -->
    <!--插入语句-->
    <!--
      <commandText value="insert into [Log2] ([Author],[LogDate],[Log_Level],[Message],[Location],[Exception]) Values(@Author,@Date,@Level,@Message,@Location,@Exception);" />
      <commandType value="Text"/>
      -->
    <!--操作者,暂时没用到-->
    <!--
      <parameter>
        <parameterName value="@Author" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{Operator}" />
        </layout>
      </parameter>
      -->
    <!--记录时间-->
    <!--
      <parameter>
        <parameterName value="@Date" />
        <dbType value="DateTime" />
        <layout type="log4net.Layout.RawTimeStampLayout" />
      </parameter>
      -->
    <!--日志等级-->
    <!--
      <parameter>
        <parameterName value="@Level" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%level" />
        </layout>
      </parameter>
      -->
    <!--异常消息-->
    <!--
      <parameter>
        <parameterName value="@Message" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%message" />
        </layout>
      </parameter>
      -->
    <!--异常位置-->
    <!--
      <parameter>
        <parameterName value="@Location" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%location" />
        </layout>
      </parameter>
      -->
    <!--错误-->
    <!--
      <parameter>
        <parameterName value="@Exception" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%exception" />
        </layout>
      </parameter>
    </appender>-->


    <!--<appender name="ADONetAppender1" type="log4net.Appender.ADONetAppender,log4net">
      -->
    <!--BufferSize为缓冲区大小-->
    <!--
      <bufferSize value="100" />
      -->
    <!--<param name="BufferSize" value="2" />-->
    <!--
      -->
    <!--引用-->
    <!--
      -->
    <!--<connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.84.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139" />
      -->
    <!--
      -->
    <!--连接字符串-->
    <!--
      -->
    <!--
      -->
    <!--
      -->
    <!--<connectionString value="data source=c:\\logweb.db3;Synchronous=off" />-->
    <!--
      -->
    <!--
      <connectionString value="data source=|DataDirectory|\log4net.db;Synchronous=Off "/>-->
    <!--
      <connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.84.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139"/>
      <connectionString value="data source=c:\\logweb0405_1.db;Synchronous=Off "/>

      <commandText value="INSERT INTO log4net(appdomain, aspnetcache, aspnetcontext, aspnetrequest, aspnetsession, [date], exception, file, identity, location, level, line, logger, message, method, ndc, property, stacktrace, stacktracedetail, [timestamp], thread, type, username, utcdate) VALUES (@appdomain, @aspnetcache, @aspnetcontext, @aspnetrequest, @aspnetsession, @date, @exception, @file, @identity, @location, @level, @line, @logger, @message, @method, @ndc, @property, @stacktrace, @stacktracedetail, @timestamp, @thread, @type, @username, @utcdate)"/>
      <parameter>
        <parameterName value="@appdomain"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%appdomain"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetcache"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-cache"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetcontext"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-context"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetrequest"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-request"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetsession"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-session{Usuario}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@date"/>
        <dbType value="DateTime"/>
        <layout type="log4net.Layout.RawTimeStampLayout"/>
      </parameter>
      <parameter>
        <parameterName value="@exception"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%exception"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@file"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%file"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@identity"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%identity"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@location"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%location"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@level"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%level"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@line"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%line"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@logger"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%logger"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@message"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%message"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@method"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%method"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@ndc"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%ndc"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@property"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@stacktrace"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%stacktrace"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@stacktracedetail"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%stacktracedetail"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@timestamp"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%timestamp"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@thread"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%thread"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@type"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%type"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@username"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%username"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@utcdate"/>
        <dbType value="DateTime"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%utcdate{yyyy-MM-dd HH:mm:ss}"/>
        </layout>
      </parameter>
    </appender>-->
    <appender name="sqlite" type="log4net.Appender.AdoNetAppender">
      <bufferSize value="1"/>
      <connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.84.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139"/>
      <connectionString value="data source=|DataDirectory|\log4net.db;Synchronous=Off "/>
      <commandText value="INSERT INTO log4net(appdomain, aspnetcache, aspnetcontext, aspnetrequest, aspnetsession, [date], exception, file, identity, location, level, line, logger, message, method, ndc, property, stacktrace, stacktracedetail, [timestamp], thread, type, username, utcdate) VALUES (@appdomain, @aspnetcache, @aspnetcontext, @aspnetrequest, @aspnetsession, @date, @exception, @file, @identity, @location, @level, @line, @logger, @message, @method, @ndc, @property, @stacktrace, @stacktracedetail, @timestamp, @thread, @type, @username, @utcdate)"/>
      <parameter>
        <parameterName value="@appdomain"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%appdomain"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetcache"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-cache"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetcontext"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-context"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetrequest"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-request"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@aspnetsession"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%aspnet-session{Usuario}"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@date"/>
        <dbType value="DateTime"/>
        <layout type="log4net.Layout.RawTimeStampLayout"/>
      </parameter>
      <parameter>
        <parameterName value="@exception"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%exception"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@file"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%file"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@identity"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%identity"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@location"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%location"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@level"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%level"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@line"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%line"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@logger"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%logger"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@message"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%message"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@method"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%method"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@ndc"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%ndc"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@property"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@stacktrace"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%stacktrace"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@stacktracedetail"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%stacktracedetail"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@timestamp"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%timestamp"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@thread"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%thread"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@type"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%type"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@username"/>
        <dbType value="String"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%username"/>
        </layout>
      </parameter>
      <parameter>
        <parameterName value="@utcdate"/>
        <dbType value="DateTime"/>
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%utcdate{yyyy-MM-dd HH:mm:ss}"/>
        </layout>
      </parameter>
    </appender>
    <appender name="sqlite1" type="log4net.Appender.AdoNetAppender">
      <bufferSize value="1"/>

      <!--<connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.84.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139"/>-->
      <connectionType value="System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.86.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139 "/>

      <connectionString value="data source=|DataDirectory|\logweb.db;Synchronous=Off "/>
      <!--插入语句-->
      <commandText value="insert into [Log2] ([Author],[LogDate],[Log_Level],[Message],[Location],[Exception]) Values(@Author,@Date,@Level,@Message,@Location,@Exception);" />
      <commandType value="Text"/>
      <!--操作者,暂时没用到-->
      <parameter>
        <parameterName value="@Author" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%property{Operator}" />
        </layout>
      </parameter>
      <!--记录时间-->
      <parameter>
        <parameterName value="@Date" />
        <dbType value="DateTime" />
        <layout type="log4net.Layout.RawTimeStampLayout" />
      </parameter>
      <!--日志等级-->
      <parameter>
        <parameterName value="@Level" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%level" />
        </layout>
      </parameter>
      <!--异常消息-->
      <parameter>
        <parameterName value="@Message" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%message" />
        </layout>
      </parameter>
      <!--异常位置-->
      <parameter>
        <parameterName value="@Location" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%location" />
        </layout>
      </parameter>
      <!--错误-->
      <parameter>
        <parameterName value="@Exception" />
        <dbType value="String" />
        <layout type="log4net.Layout.PatternLayout">
          <conversionPattern value="%exception" />
        </layout>
      </parameter>
    </appender>
    <appender name="SmtpAppender" type="log4net.Appender.SmtpAppender">
      <to value="bigoceanincolumbus@gmail.com" />
      <from value="Nobody@ad.us.toyota-industries.com" />
      <subject value="ETA Info" />
      <smtpHost value="webmail.us.toyota-industries.com" />
      <bufferSize value="25" />
      <lossy value="true" />
      <evaluator type="log4net.Core.LevelEvaluator">
        <threshold value="ALL"/>
      </evaluator>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline" />
      </layout>
    </appender>


    <appender name="LogAllToFile" type="log4net.Appender.RollingFileAppender,log4net">
      <!--输出格式
                     每种转换符号都以%开始，后面跟着一个格式符号和换符号。
                     %-数字　：该项的最小长度，小于最小长度的用空格填充
                     %m(message):输出的日志消息
                     %n(new line):换行 
                     %d(datetime):输出当前语句运行的时刻 
                     %r(run time):输出程序从运行到执行到当前语句时消耗的毫秒数 
                     %t(thread id):当前语句所在的线程ID 
                     %p(priority): 日志的当前优先级别，即DEBUG、INFO、WARN…等 
                     %c(class):当前日志对象的名称，
                     %L(line )：输出语句所在的行号 
                     %F(file name)：输出语句所在的文件名
                     %logger　日志名称
                 -->
      <param name="File" value="c:\log4netwinlog_"/>
      <param name="AppendToFile" value="true"/>
      <param name="MaxSizeRollBackups" value="100"/>
      <param name="MaximumFileSize" value="1KB"/>
      <param name="StaticLogFileName" value="false"/>
      <param name="DatePattern" value="yyyyMMdd&quot;.log&quot;"/>
      <param name="RollingStyle" value="Date"/>
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="Recording Time：%date ThreadID:[%thread] LogLevel：%-5level LogCategory：%logger OperatorID：%property{Operator} Operator Type：%property{ActionType}%nMachineName:%property%nCurrent User：%username %nCurrent Location：%location%nMessage Detail：%property{Message}%nException：%exception%nMessage：%message%newline%n%n" />
      </layout>
    </appender>
    <logger name="Log">
      <!--<level value="ERROR"/>-->
      <level value="ALL"/>
      <!--<appender-ref ref="ADONetAppender1"/>-->
      <!--<appender-ref ref="sqlite"/>-->
      <appender-ref ref="sqlite1"/>
      <!--<appender-ref ref="SmtpAppender"/>-->



      <!--<appender-ref ref="LogAllToFile"/>-->
    </logger>
    <!--<logger name="LogToFile">
      <level value="ALL"/>
      <appender-ref ref="LogAllToFile"/>
    </logger>-->
    <!--所有logger的基础，root的设置在所有logger中都起作用。 
        当在root和logger中重复设定相同的appender时，你会发现同一日志信息将被记录两次。-->
    <!--<root>
      <level value="ERROR"/>
      -->
    <!--ALL, DEBUG, INFO, WARN, ERROR, FATAL, OFF-->
    <!--
      -->
    <!--<appender-ref ref="LogAllToFile"/>-->
    <!--
      <appender-ref ref="ADONetAppender"/>
    </root>-->
  </log4net>
</configuration>